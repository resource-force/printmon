(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){e.exports={main:"App_main__uN9ca"}},151:function(e,t,a){e.exports=a(280)},258:function(e,t,a){e.exports=a.p+"static/media/tree.287e594e.png"},277:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);a(152);var n,r=a(0),l=a.n(r),o=a(133),c=a(35),i=a(88),s=a.n(i),u=a(134),m=a(39),p=a(28),d=a.n(p);!function(e){e.TOTAL_UNITS_OUTPUT="Impression.AllMeterTypes.AllFunctions.AllSides.AllPageSizes",e.TOTAL_MONO_UNITS_OUTPUT="Impression.Mono.AllFunctions.AllSides.AllPageSizes",e.TOTAL_COLOR_UNITS_OUTPUT="Impression.Color.AllFunctions.AllSides.AllPageSizes",e.TOTAL_SCAN_UNITS="Impression.AllMeterTypes.Scan.AllSides.AllPageSizes",e.TOTAL_PRINT_UNITS="Impression.AllMeterTypes.Print.AllSides.AllPAgeSizes",e.TOTAL_COPIER_UNITS="Impression.AllMeterTypes.Copy.AllSides.AllPAgeSizes",e.DUPLEX="Impression.AllMeterTypes.AllFunctions.Duplex.AllPageSizes"}(n||(n={}));var f=a(135),E=a.n(f);a(257);function h(e){var t=e.num,a=l.a.useRef(null),n=Object(r.useState)(0),o=Object(m.a)(n,2),c=o[0],i=o[1];return Object(r.useEffect)(function(){i(t)},[t]),E()(a,c),l.a.createElement("span",{ref:a})}var v=a(68),y=a.n(v),g=8300,T=8300/.7;function A(e,t){return Math.round(e/g+t/T)}function _(e){var t=e.num,a=e.unit;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:y.a.counter__odometer},l.a.createElement(h,{num:t})),l.a.createElement("span",{className:y.a.counter__unit},a))}function S(e){var t=e.unrecycledPaperTotal,a=e.recycledPaperTotal,n=e.days,r=A(t,a),o=t/1e3*.02+a/1e3*.014,c=t/1e3*.1+a/1e3*.08,i=t/1e3*89.9+a/1e3*74.3,s=t/1e3*107+a/1e3*104,u=t/1e3*5.9+a/1e3*5.8;return l.a.createElement("section",null,l.a.createElement("h2",null,"Environmental Impact"),l.a.createElement("p",null,"Paper usage contributes to several environmental impacts. See the impacts here, calculated live from values provided by the"," ",l.a.createElement("a",{href:"https://c.environmentalpaper.org/"},"Environmental Paper Network"),"."),l.a.createElement("p",null,"Over the course of ",n," days, we used..."),l.a.createElement("ul",{className:y.a.statsList},l.a.createElement("li",null,l.a.createElement(_,{num:t+a,unit:"whole sheets of paper"})),l.a.createElement("li",null,l.a.createElement(_,{num:r,unit:"trees"})),l.a.createElement("li",null,l.a.createElement(_,{num:i,unit:"pounds of CO2"})),l.a.createElement("li",null,l.a.createElement(_,{num:o,unit:"short tons of wood"})),l.a.createElement("li",null,l.a.createElement(_,{num:c,unit:"BTUs of energy"})),l.a.createElement("li",null,l.a.createElement(_,{num:s,unit:"gallons of water"})),l.a.createElement("li",null,l.a.createElement(_,{num:u,unit:"pounds of solid waste"}))))}var O=a(92),b=a(89),P=a.n(b),w=a(258),N=300;function L(e){var t=e.isStump,a=50*Math.random();return l.a.createElement("img",{className:t?P.a.treeStump:void 0,style:{display:"inline-block",position:"relative",left:"-".concat(a+75,"px"),top:"".concat(a,"px"),marginBottom:"-75px"},src:w,height:"50",width:"50",alt:""})}function D(e){var t=A(e.unrecycledPaperTotal,e.recycledPaperTotal),a=300-t;return l.a.createElement("div",null,l.a.createElement("p",null,"We have used enough paper to cut down ",t," trees."," ",a>0?l.a.createElement(l.a.Fragment,null,"Of this forest of ",N," trees, only ",a," remain."):l.a.createElement(l.a.Fragment,null,"Of this forest of 300 trees, we have cut down all of them and more.")),l.a.createElement("div",{className:P.a.treeDisplay},t>0&&Object(O.a)(Array(Math.min(t,300)).keys()).map(function(e){return l.a.createElement(L,{key:e,isStump:!0})}),a>0&&Object(O.a)(Array(a).keys()).map(function(e){return l.a.createElement(L,{key:e,isStump:!1})})))}var I=function(e){var t=e.data,a=e.days,n=0,r=0,o=new Map;for(var c in t){var i=d()(c).format("YYYY-MM"),s=o.get(i)||0;o.set(i,t[c]+s),d()(c)<d()("2019-05-01")?n+=t[c]:r+=t[c]}var u=[],p=!0,f=!1,E=void 0;try{for(var h,v=o[Symbol.iterator]();!(p=(h=v.next()).done);p=!0){var y=h.value,g=Object(m.a)(y,2),T=g[0],A=g[1];u.push({date:T,total:A})}}catch(_){f=!0,E=_}finally{try{p||null==v.return||v.return()}finally{if(f)throw E}}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(D,{unrecycledPaperTotal:n,recycledPaperTotal:r}),l.a.createElement(S,{days:a,unrecycledPaperTotal:n,recycledPaperTotal:r})))},j=a(137),x=a(284);function C(e){var t={};for(var a in e)t[a]=e[a][n.TOTAL_UNITS_OUTPUT]-e[a][n.DUPLEX];return t}function M(e){return{formatDate:function(t,a){return d()(t).locale(a).format(e)},parseDate:function(t,a){var n=d.a.utc(t,e).locale(a);return!!n.isValid()&&n.toDate()},placeholder:e}}var U=Object({NODE_ENV:"production",PUBLIC_URL:"/printmon"}).REACT_APP_API_HOST||"https://printmon.potatofrom.space";var k=Object(c.e)(function(){var e=Object(r.useState)(d()("2018-07-01")),t=Object(m.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(d.a.utc()),c=Object(m.a)(o,2),i=c[0],p=c[1],f=Object(r.useState)(void 0),E=Object(m.a)(f,2),h=E[0],v=E[1],y=Object(r.useCallback)(Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(void 0),e.next=3,fetch("".concat(U,"/api/historical?startDate=").concat(a.format("YYYY-MM-DD"),"&endDate=").concat(i.format("YYYY-MM-DD")));case 3:return t=e.sent,e.t0=v,e.next=7,t.json();case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}},e)})),[a,i]);return Object(r.useEffect)(function(){y()},[y]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"AB Paper Consumption"),l.a.createElement("em",null,"From"," ",l.a.createElement(x.a,Object.assign({},M("LL"),{canClearSelection:!1,value:a.toDate(),maxDate:i.toDate(),onChange:function(e,t){t&&n(d()(e))},locale:"en"}))," ","to"," ",l.a.createElement(x.a,Object.assign({},M("LL"),{canClearSelection:!1,value:i.toDate(),minDate:a.toDate(),maxDate:new Date,onChange:function(e,t){t&&p(d()(e))},locale:"en"})),"..."),void 0!==h?l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{data:C(h),days:i.diff(a,"days")})):l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(j.a,null),l.a.createElement("p",null,"Loading...")))});function F(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"About AB Printing"),l.a.createElement("p",null,"AB Printing tracks the daily printing and copying amounts of Acton-Boxborough Regional High School."),l.a.createElement("h2",null,"How do you track printing?"),l.a.createElement("p",null,"The school EdTech department has, for the past several years, tracked printing and copying activity anonymously using a software called LaserWatch. This data was pulled in and analyzed to get the real-time statistics as shown on the home page."),l.a.createElement("h2",null,"Image Credits"),l.a.createElement("ul",null,l.a.createElement("li",null,"Tree Image -"," ",l.a.createElement("a",{href:"http://pluspng.com/png-124472.html"},"Tree Clipart PNG"),"."),l.a.createElement("li",null,"James Stanier -"," ",l.a.createElement("a",{href:"https://creativecommons.org/licenses/by-nc-sa/2.0/"},"A field in Falmer, Sussex"),". Licensed under CC BY-NC-SA 2.0.")),l.a.createElement("h2",null,"Copyright"),l.a.createElement("p",null,"\xa9 2019 Kevin Liu, Aneesh Edara and Kunal Sharda. This program is free software: you can redistribute it and/or modify it under the terms of the"," ",l.a.createElement("a",{href:"https://www.gnu.org/licenses/agpl-3.0.en.html"},"GNU Affero General Public License")," ","as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version."),l.a.createElement("p",null,"See the source code"," ",l.a.createElement("a",{href:"https://github.com/resource-force/printmon"},"here"),"."))}var Y=a(144),B=a.n(Y),z=a(283),R=a(146),H=a(43),W=a(147),G=a(145),J=a(285),V=a(69);var X=Object(c.e)(function(e){var t=e.history;return l.a.createElement("div",{className:"bp3-dark"},l.a.createElement(z.a,{color:"dark"},l.a.createElement(R.a,{align:H.a.LEFT},l.a.createElement(W.a,null,"AB Printing"),l.a.createElement(G.a,null),l.a.createElement(J.a,{className:V.a.MINIMAL,onClick:function(){return t.push("/")},icon:"home",text:"Home"}),l.a.createElement(J.a,{className:V.a.MINIMAL,onClick:function(){return t.push("/about")},icon:"book",text:"About"}))),l.a.createElement("main",{className:B.a.main},l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/",exact:!0,component:k}),l.a.createElement(c.a,{path:"/about",exact:!0,component:F}))))});a(277),a(278),a(279),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(87);Object(o.render)(l.a.createElement(K.a,{basename:"/printmon"},l.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,t,a){e.exports={statsList:"Stats_statsList__1lbSP",counter__odometer:"Stats_counter__odometer__-2fFZ",counter__unit:"Stats_counter__unit__3V-Nv"}},89:function(e,t,a){e.exports={treeDisplay:"TreeDisplay_treeDisplay__1dtzX",treeStump:"TreeDisplay_treeStump__iOl_A"}}},[[151,1,2]]]);
//# sourceMappingURL=main.c649872d.chunk.js.map