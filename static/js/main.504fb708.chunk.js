(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{216:function(e,t,a){e.exports={main:"App_main__2qbxY",background:"App_background__2mNDg"}},252:function(e,t,a){e.exports=a(480)},478:function(e,t,a){},480:function(e,t,a){"use strict";a.r(t);a(253);var n,r=a(1),l=a.n(r),o=a(204),c=a(42),i=a(130),u=a.n(i),s=a(205),m=a(55),p=a(34),d=a(43),f=a.n(d),h=function(e){var t=e.data,a=0,n=new Map;for(var r in t){var o=f()(r).format("YYYY-MM"),c=n.get(o)||0;n.set(o,t[r]+c),a+=t[r]}var i=[],u=!0,s=!1,d=void 0;try{for(var h,E=n[Symbol.iterator]();!(u=(h=E.next()).done);u=!0){var A=h.value,g=Object(m.a)(A,2),T=g[0],v=g[1];i.push({date:T,total:v})}}catch(O){s=!0,d=O}finally{try{u||null==E.return||E.return()}finally{if(s)throw d}}return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.d,{width:1e3,height:700,data:i,margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(p.a,{strokeDasharray:"3 3"}),l.a.createElement(p.f,{dataKey:"date"}),l.a.createElement(p.g,null),l.a.createElement(p.e,null),l.a.createElement(p.b,null),l.a.createElement(p.c,{type:"monotone",dataKey:"total",stroke:"#82ca9d"})),l.a.createElement("p",null,"Total: ",a))};function E(e){var t=e.date;return l.a.createElement("time",{dateTime:t.toISOString()},t.toDate().toLocaleDateString())}function A(e,t){var a={};for(var n in e)a[n]=e[n][t];return a}!function(e){e.TOTAL_UNITS_OUTPUT="Impression.AllMeterTypes.AllFunctions.AllSides.AllPageSizes",e.TOTAL_MONO_UNITS_OUTPUT="Impression.Mono.AllFunctions.AllSides.AllPageSizes",e.TOTAL_COLOR_UNITS_OUTPUT="Impression.Color.AllFunctions.AllSides.AllPageSizes",e.TOTAL_SCAN_UNITS="Impression.AllMeterTypes.Scan.AllSides.AllPageSizes",e.TOTAL_PRINT_UNITS="Impression.AllMeterTypes.Print.AllSides.AllPAgeSizes",e.TOTAL_COPIER_UNITS="Impression.AllMeterTypes.Copy.AllSides.AllPAgeSizes",e.DUPLEX="Impression.AllMeterTypes.AllFunctions.Duplex.AllPageSizes"}(n||(n={}));var g=Object({NODE_ENV:"production",PUBLIC_URL:"/printmon"}).REACT_APP_API_HOST||"https://printmon.potatofrom.space",T=function(){var e=Object(r.useState)(f.a.utc("2018-07-01")),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)(f.a.utc()),i=Object(m.a)(c,2),p=i[0],d=i[1],T=Object(r.useState)(void 0),v=Object(m.a)(T,2),O=v[0],S=v[1];function b(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/api/historical?startDate=").concat(a.format("YYYY-MM-DD"),"&endDate=").concat(p.format("YYYY-MM-DD")));case 2:return t=e.sent,e.t0=S,e.next=6,t.json();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(r.useEffect)(function(){b()},[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"AB Print Data from ",l.a.createElement(E,{date:a})," to"," ",l.a.createElement(E,{date:p})),void 0!==O&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Total Units Output"),l.a.createElement(h,{data:A(O,n.TOTAL_UNITS_OUTPUT)}),l.a.createElement("h2",null,"Duplex Output"),l.a.createElement(h,{data:A(O,n.DUPLEX)})),l.a.createElement("input",{type:"date",value:a.format("YYYY-MM-DD"),onChange:function(e){return o(f()(e.target.value))},onBlur:b})," ","to",l.a.createElement("input",{type:"date",value:p.format("YYYY-MM-DD"),onChange:function(e){return d(f()(e.target.value))},onBlur:b}))};function v(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"About AB Printing Monitor"),l.a.createElement("p",null,"AB Printing Monitor tracks the daily printing amounts of Acton-Boxborough Regional High School."),l.a.createElement("h2",null,"Copyright"),l.a.createElement("p",null,"\xa9 2019 Kevin Liu and Kunal Sharda. This program is free software: you can redistribute it and/or modify it under the terms of the"," ",l.a.createElement("a",{href:"https://www.gnu.org/licenses/agpl-3.0.en.html"},"GNU Affero General Public License")," ","as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version."))}var O=a(216),S=a.n(O),b=a(483),y=a(218),_=a(40),P=a(219),I=a(217),M=a(484),w=a(90);var U=Object(c.e)(function(e){var t=e.history;return l.a.createElement("div",{className:"bp3-dark"},l.a.createElement(b.a,{color:"dark"},l.a.createElement(y.a,{align:_.a.LEFT},l.a.createElement(P.a,null,"AB Printing"),l.a.createElement(I.a,null),l.a.createElement(M.a,{className:w.a.MINIMAL,onClick:function(){return t.push("/")},icon:"home",text:"Home"}),l.a.createElement(M.a,{className:w.a.MINIMAL,onClick:function(){return t.push("/about")},icon:"book",text:"About"}))),l.a.createElement("main",{className:S.a.main},l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/",exact:!0,component:T}),l.a.createElement(c.a,{path:"/about",exact:!0,component:v}))))});a(478),a(479),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(129);Object(o.render)(l.a.createElement(Y.a,{basename:"/printmon"},l.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[252,1,2]]]);
//# sourceMappingURL=main.504fb708.chunk.js.map